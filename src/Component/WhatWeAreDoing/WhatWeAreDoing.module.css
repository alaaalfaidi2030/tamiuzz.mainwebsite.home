/* ============================================
   WHAT WE ARE DOING - ULTRA PREMIUM DESIGN
   ============================================ */

.WhatWeAreDoing {
  background-position: center center;
  background-size: cover;
  background-repeat: no-repeat;
  padding: var(--space-20) var(--space-4);
  position: relative;
  overflow: hidden;
}

/* Premium dark overlay with gradient */
.overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    rgba(10, 17, 41, 0.9) 0%,
    rgba(26, 58, 143, 0.85) 50%,
    rgba(10, 17, 41, 0.92) 100%
  );
  z-index: 0;
}

/* ============================================
   FLOATING DECORATIVE SHAPES
   ============================================ */

.floatingShape1,
.floatingShape2,
.floatingShape3 {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  filter: blur(90px);
  opacity: 0.2;
  z-index: 0;
}

.floatingShape1 {
  top: 12%;
  right: 8%;
  width: 450px;
  height: 450px;
  background: radial-gradient(circle, var(--primary-400), transparent);
}

.floatingShape2 {
  bottom: 18%;
  left: 10%;
  width: 500px;
  height: 500px;
  background: radial-gradient(circle, var(--secondary-400), transparent);
}

.floatingShape3 {
  top: 45%;
  right: 40%;
  width: 380px;
  height: 380px;
  background: radial-gradient(circle, var(--primary-300), transparent);
}

.innerContainer {
  position: relative;
  z-index: 1;
}

.description {
  font-weight: 600;
  font-size: clamp(1.1rem, 2.2vw, 1.35rem);
  line-height: 1.65;
  color: rgba(255, 255, 255, 1);
  margin-bottom: var(--space-10);
  text-shadow: 0 2px 12px rgba(0, 0, 0, 0.5), 0 4px 24px rgba(0, 0, 0, 0.3);
}

/* ============================================
   SLIDER CONTAINER
   ============================================ */

.sliderContainer {
  padding: var(--space-2) 0;
}

.slideWrapper {
  padding: var(--space-10) var(--space-2);
  height: auto;
}

/* ============================================
   PREMIUM SOLUTION CARD
   ============================================ */

.cardLink {
  text-decoration: none;
  color: inherit;
  display: block;
}

.card {
  width: 100%;
  max-width: 380px;
  border-radius: var(--radius-2xl);
  overflow: hidden;
  box-shadow: 0 12px 36px rgba(0, 0, 0, 0.15), 0 4px 12px rgba(0, 0, 0, 0.1);
  background: var(--bg-surface);
  border: 2px solid var(--border-light);
  display: flex;
  flex-direction: column;
  direction: rtl;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  cursor: pointer;
  position: relative;
}

/* Premium Card Glow */
.cardGlow {
  position: absolute;
  inset: -40px;
  background: radial-gradient(
    circle at center,
    rgba(var(--primary-rgb, 79, 70, 229), 0.2),
    transparent 60%
  );
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
  z-index: 0;
}

.card:hover .cardGlow {
  opacity: 1;
}

.card:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25), 0 8px 24px rgba(0, 0, 0, 0.15);
  border-color: var(--primary-300);
}

.card:focus-within {
  outline: 2px solid var(--primary-400);
  outline-offset: 2px;
}

/* Image Section */
.imageWrapper {
  width: 100%;
  height: 230px;
  overflow: hidden;
  position: relative;
  background: var(--bg-elevated);
}

.image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.imageOverlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.2) 60%,
    rgba(0, 0, 0, 0.4) 100%
  );
  opacity: 0;
  transition: opacity 0.4s ease;
  z-index: 1;
}

.card:hover .imageOverlay {
  opacity: 1;
}

/* Premium Icon Badge with Organic Morphing */
.iconBadge {
  position: absolute;
  top: -32px;
  right: var(--space-5);
  width: 72px;
  height: 72px;
  background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
  border-radius: var(--radius-xl);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8px 24px rgba(var(--primary-rgb, 79, 70, 229), 0.4);
  z-index: 2;
  border: 3px solid var(--bg-surface);
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  position: relative;
  overflow: hidden;
}

.iconBadgeGlow {
  position: absolute;
  inset: -20px;
  background: radial-gradient(
    circle at center,
    rgba(var(--primary-rgb, 79, 70, 229), 0.4),
    transparent 60%
  );
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
}

.card:hover .iconBadgeGlow {
  opacity: 1;
}

body[dir="ltr"] .iconBadge {
  right: auto;
  left: var(--space-5);
}

.iconBadge img {
  filter: brightness(0) invert(1);
  transition: transform 0.4s ease;
  position: relative;
  z-index: 1;
}

/* Content Section */
.content {
  position: relative;
  padding: var(--space-6) var(--space-5);
  text-align: start;
  display: flex;
  background-color: var(--bg-surface);
  flex-direction: column;
  gap: var(--space-3);
  padding-top: calc(var(--space-6) + 32px);
  transition: all 0.3s ease;
  z-index: 1;
}

.content h3 {
  font-weight: 700;
  font-size: 1.2rem;
  line-height: 1.4;
  color: var(--text-heading);
  margin: 0 0 var(--space-1) 0;
  transition: all 0.3s ease;
}

.card:hover .content h3 {
  background: linear-gradient(135deg, var(--primary-600), var(--primary-500));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.cardDescription {
  font-weight: 400;
  font-size: 0.95rem;
  line-height: 1.7;
  color: var(--text-secondary);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  margin: 0;
}

/* Read More Link */
.readMore {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  color: var(--primary-500);
  font-weight: 600;
  font-size: 0.9rem;
  margin-top: var(--space-2);
  transition: gap 0.3s ease;
}

.card:hover .readMore {
  gap: var(--space-3);
  color: var(--primary-600);
}

.readMore i {
  font-size: 0.75rem;
  transition: transform 0.3s ease;
}

body[dir="ltr"] .readMore i {
  transform: rotate(180deg);
}

body[dir="ltr"] .card:hover .readMore i {
  transform: translateX(3px) rotate(180deg);
}

/* Decorative Corner */
.cardCorner {
  position: absolute;
  top: 0;
  right: 0;
  width: 80px;
  height: 80px;
  background: linear-gradient(
    135deg,
    var(--primary-100) 0%,
    transparent 50%
  );
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
}

body[dir="ltr"] .cardCorner {
  right: auto;
  left: 0;
  background: linear-gradient(
    225deg,
    var(--primary-100) 0%,
    transparent 50%
  );
}

.card:hover .cardCorner {
  opacity: 0.3;
}

/* Swiper Navigation */
.WhatWeAreDoing :global(.swiper-button-prev),
.WhatWeAreDoing :global(.swiper-button-next) {
  color: var(--text-inverse);
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(12px);
  width: 52px;
  height: 52px;
  border-radius: 50%;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  border: 2px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

.WhatWeAreDoing :global(.swiper-button-prev):hover,
.WhatWeAreDoing :global(.swiper-button-next):hover {
  background: var(--primary-500);
  transform: scale(1.1);
  border-color: var(--primary-400);
  box-shadow: 0 8px 24px rgba(var(--primary-rgb, 79, 70, 229), 0.4);
}

.WhatWeAreDoing :global(.swiper-button-prev)::after,
.WhatWeAreDoing :global(.swiper-button-next)::after {
  font-size: 1.15rem;
  font-weight: 800;
}

.WhatWeAreDoing :global(.swiper-pagination) {
  bottom: 0;
}

.WhatWeAreDoing :global(.swiper-pagination-bullet) {
  background: rgba(255, 255, 255, 0.6);
  opacity: 1;
  width: 10px;
  height: 10px;
  transition: all 0.3s ease;
}

.WhatWeAreDoing :global(.swiper-pagination-bullet-active) {
  background: var(--secondary-500);
  width: 32px;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(228, 157, 35, 0.4);
}

/* ============================================
   PREMIUM INFO BOX
   ============================================ */

.info {
  background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
  color: var(--text-inverse);
  padding: var(--space-8) var(--space-6);
  border-radius: var(--radius-2xl);
  text-align: start;
  margin-top: var(--space-12);
  box-shadow: 0 16px 48px rgba(var(--primary-rgb, 79, 70, 229), 0.35);
  position: relative;
  overflow: hidden;
  border: 2px solid rgba(255, 255, 255, 0.1);
}

.info::before {
  content: "";
  position: absolute;
  top: -120px;
  right: -120px;
  width: 400px;
  height: 400px;
  background: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.15) 0%,
    transparent 70%
  );
  pointer-events: none;
}

/* Premium Glow Effect for Info Box */
.infoGlow {
  position: absolute;
  inset: -50px;
  background: radial-gradient(
    circle at center,
    rgba(255, 255, 255, 0.1),
    transparent 60%
  );
  opacity: 0.5;
  pointer-events: none;
  z-index: 0;
}

.infoHeading {
  font-weight: 700;
  font-size: 1.25rem;
  line-height: 1.4;
  position: relative;
  z-index: 1;
}

/* Premium Icon Wrapper */
.iconWrapper {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(10px);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-left: var(--space-3);
  flex-shrink: 0;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  border: 2px solid rgba(255, 255, 255, 0.35);
  position: relative;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
}

.iconGlow {
  position: absolute;
  inset: -15px;
  background: radial-gradient(
    circle at center,
    rgba(255, 255, 255, 0.3),
    transparent 60%
  );
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
  border-radius: 50%;
}

.iconWrapper:hover .iconGlow {
  opacity: 1;
}

body[dir="ltr"] .iconWrapper {
  margin-left: 0;
  margin-right: var(--space-3);
}

.iconWrapper i {
  color: var(--text-inverse);
  font-size: 1.35rem;
  position: relative;
  z-index: 1;
}

.contactLabel {
  font-weight: 600;
  font-size: 0.98rem;
  line-height: 1.5;
  margin: 0;
  margin-bottom: var(--space-1);
}

.contactValue {
  font-size: 0.9rem;
  opacity: 0.95;
  font-weight: 500;
}

/* Premium CTA Button */
.ctaButton {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-4) var(--space-7);
  background: var(--text-inverse);
  color: var(--primary-600);
  text-decoration: none;
  border-radius: var(--radius-xl);
  font-weight: 700;
  font-size: 1rem;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  position: relative;
  overflow: hidden;
}

.buttonGlow {
  position: absolute;
  inset: -20px;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.3), transparent);
  opacity: 0.4;
  pointer-events: none;
}

.buttonContent {
  position: relative;
  z-index: 2;
}

.ctaButton::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 1));
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 1;
}

.ctaButton:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.ctaButton:hover::before {
  opacity: 1;
}

.ctaButton > * {
  position: relative;
  z-index: 2;
}

.buttonArrow {
  font-size: 0.85rem;
  transition: transform 0.3s ease;
}

body[dir="ltr"] .buttonArrow i {
  transform: rotate(180deg);
}

/* ============================================
   DARK MODE
   ============================================ */

.dark .card {
  background: var(--bg-elevated);
  border-color: var(--border-default);
  box-shadow: 0 12px 36px rgba(0, 0, 0, 0.4), 0 4px 12px rgba(0, 0, 0, 0.3);
}

.dark .card:hover {
  border-color: var(--primary-400);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), 0 8px 24px rgba(0, 0, 0, 0.4);
}

.dark .iconBadge {
  border-color: var(--bg-elevated);
}

.dark .content {
  background-color: var(--bg-elevated);
}

/* ============================================
   RESPONSIVE
   ============================================ */

@media (max-width: 992px) {
  .description {
    font-size: 1.2rem;
  }

  .card {
    max-width: 100%;
  }

  .info {
    padding: var(--space-6) var(--space-5);
  }

  .slideWrapper {
    padding: var(--space-8) var(--space-2);
  }

  .floatingShape1,
  .floatingShape2,
  .floatingShape3 {
    width: 350px;
    height: 350px;
  }
}

@media (max-width: 768px) {
  .WhatWeAreDoing {
    padding: var(--space-16) var(--space-4);
  }

  .description {
    font-size: 1.05rem;
    margin-bottom: var(--space-8);
  }

  .imageWrapper {
    height: 200px;
  }

  .content h3 {
    font-size: 1.08rem;
  }

  .cardDescription {
    font-size: 0.9rem;
  }

  .info {
    padding: var(--space-5);
    border-radius: var(--radius-xl);
    margin-top: var(--space-10);
  }

  .iconBadge {
    width: 64px;
    height: 64px;
    top: -30px;
  }

  .iconBadge img {
    width: 32px;
    height: 32px;
  }

  .slideWrapper {
    padding: var(--space-6) var(--space-1);
  }

  .floatingShape1,
  .floatingShape2,
  .floatingShape3 {
    width: 250px;
    height: 250px;
  }
}

@media (max-width: 480px) {
  .WhatWeAreDoing {
    padding: var(--space-12) var(--space-3);
  }

  .description {
    font-size: 1rem;
    line-height: 1.6;
  }

  .imageWrapper {
    height: 180px;
  }

  .content {
    padding: var(--space-5) var(--space-4);
    padding-top: calc(var(--space-5) + 30px);
  }

  .iconWrapper {
    width: 48px;
    height: 48px;
    margin-left: var(--space-2);
  }

  body[dir="ltr"] .iconWrapper {
    margin-left: 0;
    margin-right: var(--space-2);
  }

  .iconWrapper i {
    font-size: 1.15rem;
  }

  .contactLabel {
    font-size: 0.88rem;
  }

  .contactValue {
    font-size: 0.78rem;
  }

  .ctaButton {
    width: 100%;
    justify-content: center;
    padding: var(--space-3) var(--space-5);
    font-size: 0.92rem;
  }

  .infoHeading {
    font-size: 1.08rem;
    margin-bottom: var(--space-3);
  }

  .slideWrapper {
    padding: var(--space-5) 0;
  }

  .iconBadge {
    width: 58px;
    height: 58px;
    top: -28px;
  }

  .iconBadge img {
    width: 30px;
    height: 30px;
  }

  .floatingShape1,
  .floatingShape2,
  .floatingShape3 {
    display: none;
  }
}
